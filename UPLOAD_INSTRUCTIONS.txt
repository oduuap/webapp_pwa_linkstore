===========================================
HÆ¯á»šNG DáºªN UPLOAD LÃŠN VPS - Cáº¬P NHáº¬T Má»šI
===========================================

ÄÃƒ THÃŠM DEBUG LOGS Äá»‚ TÃŒM Lá»–I ANDROID!

===========================================
PHáº¢I UPLOAD 3 FILES SAU:
===========================================
1. index.html (cÃ³ auto-redirect code)
2. app.js (cÃ³ debug logs má»›i + logic "CHÆ I NGAY")
3. service-worker.js (cache v6 - Má»šI!)

===========================================
Lá»†NH UPLOAD (thay Ä‘á»•i user@server):
===========================================

scp /Users/mac/Documents/webapp/index.html user@echotiles.xyz:/path/to/webroot/
scp /Users/mac/Documents/webapp/app.js user@echotiles.xyz:/path/to/webroot/
scp /Users/mac/Documents/webapp/service-worker.js user@echotiles.xyz:/path/to/webroot/

===========================================
SAU KHI UPLOAD - KIá»‚M TRA DEBUG LOGS:
===========================================

1. Má» TRANG TRÃŠN ANDROID:
   - VÃ o https://echotiles.xyz/

2. Má» CONSOLE (F12 trÃªn Desktop, hoáº·c Remote Debug):
   - Android Chrome: chrome://inspect trÃªn mÃ¡y tÃ­nh
   - Káº¿t ná»‘i Ä‘iá»‡n thoáº¡i qua USB
   - Click "Inspect" bÃªn dÆ°á»›i trang web

3. CHECK CÃC LOG SAU:
   âœ… "ğŸ” PWA Diagnostic Check" - Hiá»‡n khi vÃ o trang
   âœ… "ğŸ‰ beforeinstallprompt event fired!" - Pháº£i cÃ³ log nÃ y
   âœ… "âœ… PWA install prompt captured" - Pháº£i cÃ³ log nÃ y

   âŒ Náº¾U THáº¤Y: "âš ï¸ beforeinstallprompt event DID NOT fire"
      â†’ PWA chÆ°a Ä‘á»§ Ä‘iá»u kiá»‡n cÃ i Ä‘áº·t!
      â†’ Äá»c cÃ¡c lÃ½ do trong console

4. NHáº¤N NÃšT "CÃ i Ä‘áº·t nhanh":
   - Sáº½ hiá»‡n log "ğŸ” Android Install Debug"
   - Check tá»«ng dÃ²ng:
     â€¢ deferredPrompt available: pháº£i lÃ  TRUE
     â€¢ isStandalone: pháº£i lÃ  FALSE (chÆ°a cÃ i)
     â€¢ Is HTTPS: pháº£i lÃ  TRUE

   - Náº¾U deferredPrompt lÃ  FALSE:
     â†’ Check console xem lÃ½ do (cÃ³ 6 lÃ½ do cÃ³ thá»ƒ)

===========================================
CÃC Váº¤N Äá»€ THÆ¯á»œNG Gáº¶P VÃ€ CÃCH FIX:
===========================================

Váº¤N Äá»€ 1: "beforeinstallprompt khÃ´ng fire"
NGUYÃŠN NHÃ‚N:
- VPS chÆ°a cÃ³ HTTPS â†’ Pháº£i cÃ³ SSL certificate
- manifest.json bá»‹ lá»—i hoáº·c khÃ´ng load Ä‘Æ°á»£c
- Service Worker chÆ°a Ä‘Äƒng kÃ½ thÃ nh cÃ´ng
- App Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t rá»“i

CÃCH FIX:
- Check https://echotiles.xyz/ cÃ³ HTTPS khÃ´ng (khÃ³a xanh)
- VÃ o DevTools â†’ Application â†’ Manifest (check lá»—i)
- VÃ o DevTools â†’ Application â†’ Service Workers (pháº£i tháº¥y "webapp-cache-v6")

---

Váº¤N Äá»€ 2: "App Ä‘Ã£ cÃ i nhÆ°ng nÃºt váº«n hiá»‡n 'CÃ i Ä‘áº·t'"
NGUYÃŠN NHÃ‚N:
- localStorage.pwaInstalled chÆ°a Ä‘Æ°á»£c set
- Cache cÅ© chÆ°a clear

CÃCH FIX:
- Má»Ÿ Console, gÃµ: localStorage.setItem('pwaInstalled', 'true')
- Refresh trang (Ctrl+Shift+R)

---

Váº¤N Äá»€ 3: "Nháº¥n cÃ i Ä‘áº·t hiá»‡n thÃ´ng bÃ¡o menu 3 cháº¥m"
NGUYÃŠN NHÃ‚N:
- deferredPrompt = null
- beforeinstallprompt event khÃ´ng fire

CÃCH FIX:
- Check console logs (xem pháº§n "SAU KHI UPLOAD" á»Ÿ trÃªn)
- Gá»¡ cÃ i app náº¿u Ä‘Ã£ cÃ i: Settings â†’ Apps â†’ NEW88 â†’ Uninstall
- Clear táº¥t cáº£ cache
- Thá»­ láº¡i

===========================================
FLOW ÄÃšNG SAU KHI FIX:
===========================================

ANDROID:
1. VÃ o https://echotiles.xyz/
2. Console hiá»‡n: "ğŸ‰ beforeinstallprompt event fired!"
3. Nháº¥n "CÃ i Ä‘áº·t nhanh"
4. Console hiá»‡n: "âœ… Install prompt available"
5. Chrome install prompt hiá»‡n ra
6. Accept â†’ Tháº¥y "âœ“ Äang cÃ i Ä‘áº·t..."
7. Sau 2s â†’ "â–¶ CHÆ I NGAY" (mÃ u xanh lÃ¡)
8. Nháº¥n "CHÆ I NGAY" â†’ Redirect Ä‘áº¿n m.new88ok1.com
9. Má»Ÿ app tá»« mÃ n hÃ¬nh â†’ Auto redirect Ä‘áº¿n m.new88ok1.com

IOS:
1. VÃ o https://echotiles.xyz/ (Safari)
2. Nháº¥n nÃºt "Get"
3. Hiá»‡n hÆ°á»›ng dáº«n tiáº¿ng Viá»‡t:
   - Nháº¥n nÃºt 3 cháº¥m (â‹®) á»Ÿ gÃ³c dÆ°á»›i Safari
   - Chá»n Share
   - CUá»˜N XUá»NG tÃ¬m "Add to Home Screen"
   - Nháº¥n Add
4. Quay láº¡i web â†’ NÃºt Ä‘á»•i thÃ nh "CHÆ I"
5. Má»Ÿ app tá»« mÃ n hÃ¬nh â†’ Auto redirect Ä‘áº¿n m.new88ok1.com

===========================================
DEBUG REMOTE TRÃŠN ANDROID (Náº¾U Cáº¦N):
===========================================

1. Báº­t Developer Mode trÃªn Android:
   - Settings â†’ About phone
   - Nháº¥n "Build number" 7 láº§n

2. Báº­t USB Debugging:
   - Settings â†’ Developer options
   - Báº­t "USB debugging"

3. Káº¿t ná»‘i Ä‘iá»‡n thoáº¡i vá»›i mÃ¡y tÃ­nh qua USB

4. Má»Ÿ Chrome trÃªn mÃ¡y tÃ­nh:
   - VÃ o chrome://inspect
   - Chá»n Ä‘iá»‡n thoáº¡i
   - Má»Ÿ https://echotiles.xyz/ trÃªn Ä‘iá»‡n thoáº¡i
   - Click "Inspect" trÃªn mÃ¡y tÃ­nh
   - Xem Console logs

===========================================
